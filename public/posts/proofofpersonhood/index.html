<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Tradeoffs in Proof of Personhood and Credentials | Reclaim Protocol Official Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Vitalik published a comprehensive study and opinions on Proof of Personhood here. Though I agree with most of the article, there are a few more points I&rsquo;d like to add.
Proof of Personhood and Sybil resistance Proof of Personhood is a subset of Sybil resistance schemes. A common mistake is to collate the two.
From wikipedia - &ldquo;A Sybil attack is a type of attack on a computer network service in which an attacker subverts the service&rsquo;s reputation system by creating a large number of pseudonymous identities and uses them to gain a disproportionately large influence.">
<meta name="author" content="">
<link rel="canonical" href="https://blog.reclaimprotocol.org/posts/proofofpersonhood/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://blog.reclaimprotocol.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.reclaimprotocol.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.reclaimprotocol.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.reclaimprotocol.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.reclaimprotocol.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Tradeoffs in Proof of Personhood and Credentials" />
<meta property="og:description" content="Vitalik published a comprehensive study and opinions on Proof of Personhood here. Though I agree with most of the article, there are a few more points I&rsquo;d like to add.
Proof of Personhood and Sybil resistance Proof of Personhood is a subset of Sybil resistance schemes. A common mistake is to collate the two.
From wikipedia - &ldquo;A Sybil attack is a type of attack on a computer network service in which an attacker subverts the service&rsquo;s reputation system by creating a large number of pseudonymous identities and uses them to gain a disproportionately large influence." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.reclaimprotocol.org/posts/proofofpersonhood/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-24T22:31:37+00:00" />
<meta property="article:modified_time" content="2023-07-24T22:31:37+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tradeoffs in Proof of Personhood and Credentials"/>
<meta name="twitter:description" content="Vitalik published a comprehensive study and opinions on Proof of Personhood here. Though I agree with most of the article, there are a few more points I&rsquo;d like to add.
Proof of Personhood and Sybil resistance Proof of Personhood is a subset of Sybil resistance schemes. A common mistake is to collate the two.
From wikipedia - &ldquo;A Sybil attack is a type of attack on a computer network service in which an attacker subverts the service&rsquo;s reputation system by creating a large number of pseudonymous identities and uses them to gain a disproportionately large influence."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://blog.reclaimprotocol.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Tradeoffs in Proof of Personhood and Credentials",
      "item": "https://blog.reclaimprotocol.org/posts/proofofpersonhood/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Tradeoffs in Proof of Personhood and Credentials",
  "name": "Tradeoffs in Proof of Personhood and Credentials",
  "description": "Vitalik published a comprehensive study and opinions on Proof of Personhood here. Though I agree with most of the article, there are a few more points I\u0026rsquo;d like to add.\nProof of Personhood and Sybil resistance Proof of Personhood is a subset of Sybil resistance schemes. A common mistake is to collate the two.\nFrom wikipedia - \u0026ldquo;A Sybil attack is a type of attack on a computer network service in which an attacker subverts the service\u0026rsquo;s reputation system by creating a large number of pseudonymous identities and uses them to gain a disproportionately large influence.",
  "keywords": [
    
  ],
  "articleBody": "Vitalik published a comprehensive study and opinions on Proof of Personhood here. Though I agree with most of the article, there are a few more points I’d like to add.\nProof of Personhood and Sybil resistance Proof of Personhood is a subset of Sybil resistance schemes. A common mistake is to collate the two.\nFrom wikipedia - “A Sybil attack is a type of attack on a computer network service in which an attacker subverts the service’s reputation system by creating a large number of pseudonymous identities and uses them to gain a disproportionately large influence.\"\nThe key phrase “large number of pseudonymous identities” is oft missed. Is two a large number? In some cases yes, in some not. The solutions in both the cases will make different tradeoffs.\nIn some cases it is enough to prove that there is a human behind an account. Think captchas. If a user is trying to enter a discord server it is enough to prove that the user is a human and that they have the requisite credentials to join the server. In such cases it is fairly acceptable if the user joins a chat server with multiple identities, as long as there are no bots that are let in. There may not even be a direct incentive for the user to create multiple idenitities in the same chat server.\nHowever, in some cases it is important to know that there is exactly user controlled by one user. Otherwise, by making a large number of identities, a single hacker can sway the decision of a democratic process. In such cases, you need proof of unique personhood.\nInherit Trust Many times you want to know a specific credential about a person. For example, only people who have more than a 100 commits this year are allowed to join a DAO. You don’t need the user to prove their uniqueness with an iris for this. You can delgegate the Sybil resistance to the source of the information. That is, Github already has Sybil resistance (aka bot protection) built in. So, if a username has 100 commits - this DAO needs to validate the number of commits and nullify the Github username so that the same username cannot be used to enter the DAO again. The Sybil resistance can be inherited from external trusted sources. The degree of importance of the decisions made by this DAO is likely capped by the degree of trust you’re willing to place on the trustworthiness of the source of information, albeit centralized. You might not trust this DAO with the red button to launch a nuclear missile - because a powerful government could arm twist Github to create fake profiles with 100 commits and Sybil attack the DAO. However, you can trust the DAO with decisions like what testcases should pass, what PRs get merged or any other developer facing decision.\nIf we had a perfect proof of personhood system, we could trust the DAO with infinitely important decisions. But, for a wide range of applications we needn’t wait for the “perfect” solution.\nCost of bot attacks We don’t need a system where the cost to create a second identity is infinite. We need one where the cost to create an n’th identity increases exponentially. It might be possible, and favorable, to allow multiple identities to be created by the same person. As long as creating more than, say, ten identities is prohibitively expensive - it will still unlock a large number of usecases. We can be sure that the system allows for humans to have between one to ten identities. Again, community participation like in a discord server - it is acceptable to have 10 users with the same human behind it. There’s no direct incentive for the human to participate with different identities except to stay pseudonymous.\nProof of Credentials For me, proof of credentials - the super set of proof of personhood - is way more interesting. It is not the fact that the user is a human that is interesting, but what they’ve accomplished. Being born, is just one of those accomplishments. If we have provable credentials that a user can present, it opens up a new design space. Proof of Credentials makes identities fungible. Fungible identities are identities that are indistinguishable from one another. That is, a user who is a Google employee and has 100 commits to the Ethereum repository is indistinguishable from another Google employee with 100 commits. If we were to setup a DAO with these two gating criteria, there is no way to allow one and deny the other. It is impossible to tell one apart from the other. Fungible identities allow for many interesting downstream effects.\nFreedom from Discrimiation Having fungible identities that don’t reveal one’s race, religion, age, sex etc. is a super power. One shouldn’t have to reveal their official name to prove that they’re a Google employee.\nNew Primitives When people have multiple identities, they can stake identities to commit to honest or good behaviour. Imagine a social network where the users can join communities based on their credentials and stay pseudonymous but if they violate the rules provably, their identity is revealed.\nMeritocracy All DAOs today are based on Democracy. But having the tools to know the credentials of the user in real time in a provable fashion allows for communities to tend their decision making in favour of meritocracy. Where users with the right credentials have a stronger voice in decision making. In such a decision making system, say a DAO, it is acceptable to have billions of bots part of the DAO but with no decision making power.\n“Government is bad” is a Lazy argument There are three design vectors for proof of personhood or proof of credentials\n Integrity - the data collected is resistant to tampering, doesn’t have any back doors today or in future. Worldcoin falls short on this dimension. Governments can also generate multiple fake identities - however, in my view, the cost to get the Government to collude is far greater than a to get a private organization to collude. Privacy - the collectors of the data shouldn’t be able to doxx the user. Proof of Humanity and Bright ID fall short here - there always exists a set of people who know the real identity of the user. Decentralization - a system that has zero trust assumptions allows the system to be driven by aligning incentives for honest behaviour such that it is possible to fork the protocol should the users detect dishonest behaviour.  The error that most solutions are making is that they’re not separating the concerns. All these properties needn’t be achieved by the same layer of the stack. Solutions can augment each other. We should strive to build solutions standing on the shoulders of giants.\nAdhaar in India Adhaar in India was a massive effort to get everyone an ID. It has taken over 10 years to get to 90% coverage. I’ve seen the monumental task it was to setup booths that were accessible to everyone. The mainstream media has been blasting the importance of Adhaar card every evening. NGOs setup camps to help the illiterate to sign up too. The second closest system that has reached the remote parts of India is PayTM, a digital payments app. In its 13 year famed history, it has managed to get only 20% of Indians onboard.\nI think World Coin and other biometric based proof of personhood systems are underestimating the cost and effort needed to onboard 8 billion users using a physical go-to-market.\nSeparation of concerns When a Government is already maintaining a fairly trustworthy registry of users, why not build on top? Agreed, Adhaar isn’t private. Infact there have been recorded leaks of personal information - but that doesn’t stop us from inheriting the trustworthiness of the data collected. The privacy and decentralization can be a layer on top of this trustworthy data. We already have tools like ZKPs and MPC to achieve this end.\nNot only the government, but many centralized systems already have the data we seek. Github has the information of who committed how much, Twitter has information on who said what when, Universities have information of who graduated. This information can be retrieved using privacy preserving protocols like Reclaim, TLS Notary and Deco. That allows proofs to be created from centralized sources, and adds a layer of privacy on top. Which means that these identities can be used in applications downstream, and no one including the said centralized server will be able to doxx the user.\nWe already have companies and governments who already know a lot about users. It is lazy to dismiss them as “not web3”. It is inefficient to build the entire stack ground up all over again when an alternative exists.\n",
  "wordCount" : "1473",
  "inLanguage": "en",
  "datePublished": "2023-07-24T22:31:37Z",
  "dateModified": "2023-07-24T22:31:37Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.reclaimprotocol.org/posts/proofofpersonhood/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Reclaim Protocol Official Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.reclaimprotocol.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.reclaimprotocol.org/" accesskey="h" title="Reclaim Protocol Official Blog (Alt + H)">Reclaim Protocol Official Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Tradeoffs in Proof of Personhood and Credentials
    </h1>
    <div class="post-meta"><span title='2023-07-24 22:31:37 +0000 UTC'>July 24, 2023</span>

</div>
  </header> 
  <div class="post-content"><p>Vitalik published a comprehensive study and opinions on Proof of Personhood <a href="https://vitalik.ca">here</a>. Though I agree with most of the article, there are a few more points I&rsquo;d like to add.</p>
<h1 id="proof-of-personhood-and-sybil-resistance">Proof of Personhood and Sybil resistance<a hidden class="anchor" aria-hidden="true" href="#proof-of-personhood-and-sybil-resistance">#</a></h1>
<p>Proof of Personhood is a subset of Sybil resistance schemes. A common mistake is to collate the two.</p>
<p>From wikipedia - <em>&ldquo;A Sybil attack is a type of attack on a computer network service in which an attacker subverts the service&rsquo;s reputation system by creating a large number of pseudonymous identities and uses them to gain a disproportionately large influence.&quot;</em></p>
<p>The key phrase &ldquo;large number of pseudonymous identities&rdquo; is oft missed. Is two a large number? In some cases yes, in some not. The solutions in both the cases will make different tradeoffs.</p>
<p>In some cases it is enough to prove that there is a human behind an account. Think captchas. If a user is trying to enter a discord server it is enough to prove that the user is a human and that they have the requisite credentials to join the server. In such cases it is fairly acceptable if the user joins a chat server with multiple identities, as long as there are no bots that are let in. There may not even be a direct incentive for the user to create multiple idenitities in the same chat server.</p>
<p>However, in some cases it is important to know that there is exactly user controlled by one user. Otherwise, by making a large number of identities, a single hacker can sway the decision of a democratic process. In such cases, you need proof of unique personhood.</p>
<h1 id="inherit-trust">Inherit Trust<a hidden class="anchor" aria-hidden="true" href="#inherit-trust">#</a></h1>
<p>Many times you want to know a specific credential about a person. For example, only people who have more than a 100 commits this year are allowed to join a DAO. You don&rsquo;t need the user to prove their uniqueness with an iris for this. You can delgegate the Sybil resistance to the source of the information. That is, Github already has Sybil resistance (aka bot protection) built in. So, if a username has 100 commits - this DAO needs to validate the number of commits and nullify the Github username so that the same username cannot be used to enter the DAO again. The Sybil resistance can be inherited from external trusted sources. <em>The degree of importance of the decisions made by this DAO is likely capped by the degree of trust you&rsquo;re willing to place on the trustworthiness of the source of information</em>, albeit centralized. You might not trust this DAO with the red button to launch a nuclear missile - because a powerful government could arm twist Github to create fake profiles with 100 commits and Sybil attack the DAO. However, you can trust the DAO with decisions like what testcases should pass, what PRs get merged or any other developer facing decision.</p>
<p><em>If we had a <em>perfect</em> proof of personhood system, we could trust the DAO with infinitely important decisions. But, for a wide range of applications we needn&rsquo;t wait for the &ldquo;perfect&rdquo; solution.</em></p>
<h1 id="cost-of-bot-attacks">Cost of bot attacks<a hidden class="anchor" aria-hidden="true" href="#cost-of-bot-attacks">#</a></h1>
<p><em>We don&rsquo;t need a system where the cost to create a second identity is infinite. We need one where the cost to create an n&rsquo;th identity increases exponentially</em>. It might be possible, and favorable, to allow multiple identities to be created by the same person. As long as creating more than, say, ten identities is prohibitively expensive - it will still unlock a large number of usecases. We can be sure that the system allows for humans to have between one to ten identities. Again, community participation like in a discord server - it is acceptable to have 10 users with the same human behind it. There&rsquo;s no direct incentive for the human to participate with different identities except to stay pseudonymous.</p>
<h1 id="proof-of-credentials">Proof of Credentials<a hidden class="anchor" aria-hidden="true" href="#proof-of-credentials">#</a></h1>
<p>For me, proof of credentials - the super set of proof of personhood - is way more interesting.
It is not the fact that the user is a human that is interesting, but what they&rsquo;ve accomplished. Being born, is just one of those accomplishments.
If we have provable credentials that a user can present, it opens up a new design space. Proof of Credentials makes identities fungible. Fungible identities are identities that are indistinguishable from one another. That is, a user who is a Google employee and has 100 commits to the Ethereum repository is indistinguishable from another Google employee with 100 commits. If we were to setup a DAO with these two gating criteria, there is no way to allow one and deny the other. It is impossible to tell one apart from the other. Fungible identities allow for many interesting downstream effects.</p>
<h2 id="freedom-from-discrimiation">Freedom from Discrimiation<a hidden class="anchor" aria-hidden="true" href="#freedom-from-discrimiation">#</a></h2>
<p>Having fungible identities that don&rsquo;t reveal one&rsquo;s race, religion, age, sex etc. is a super power. One shouldn&rsquo;t have to reveal their official name to prove that they&rsquo;re a Google employee.</p>
<h2 id="new-primitives">New Primitives<a hidden class="anchor" aria-hidden="true" href="#new-primitives">#</a></h2>
<p>When people have multiple identities, they can stake identities to commit to honest or good behaviour. Imagine a social network where the users can join communities based on their credentials and stay pseudonymous but if they violate the rules provably, their identity is revealed.</p>
<h2 id="meritocracy">Meritocracy<a hidden class="anchor" aria-hidden="true" href="#meritocracy">#</a></h2>
<p>All DAOs today are based on Democracy. But having the tools to know the credentials of the user in real time in a provable fashion allows for communities to tend their decision making in favour of meritocracy. Where users with the right credentials have a stronger voice in decision making. In such a decision making system, say a DAO, it is acceptable to have billions of bots part of the DAO but with no decision making power.</p>
<h1 id="government-is-bad-is-a-lazy-argument">&ldquo;Government is bad&rdquo; is a Lazy argument<a hidden class="anchor" aria-hidden="true" href="#government-is-bad-is-a-lazy-argument">#</a></h1>
<p>There are three design vectors for proof of personhood or proof of credentials</p>
<ol>
<li>Integrity - the data collected is resistant to tampering, doesn&rsquo;t have any back doors today or in future. Worldcoin falls short on this dimension. Governments can also generate multiple fake identities - however, in my view, the cost to get the Government to collude is far greater than a to get a private organization to collude.</li>
<li>Privacy - the collectors of the data shouldn&rsquo;t be able to doxx the user. Proof of Humanity and Bright ID fall short here  - there always exists a set of people who know the real identity of the user.</li>
<li>Decentralization - a system that has zero trust assumptions allows the system to be driven by aligning incentives for honest behaviour such that it is possible to fork the protocol should the users detect dishonest behaviour.</li>
</ol>
<p><em>The error that most solutions are making is that they&rsquo;re not separating the concerns</em>. All these properties needn&rsquo;t be achieved by the same layer of the stack. Solutions can augment each other. We should strive to build solutions standing on the shoulders of giants.</p>
<h2 id="adhaar-in-india">Adhaar in India<a hidden class="anchor" aria-hidden="true" href="#adhaar-in-india">#</a></h2>
<p>Adhaar in India was a massive effort to get everyone an ID. It has taken over 10 years to get to 90% coverage. I&rsquo;ve seen the monumental task it was to setup booths that were accessible to everyone. The mainstream media has been blasting the importance of Adhaar card every evening. NGOs setup camps to help the illiterate to sign up too. The second closest system that has reached the remote parts of India is PayTM, a digital payments app. In its 13 year famed history, it has managed to get only 20% of Indians onboard.</p>
<p><em>I think World Coin and other biometric based proof of personhood systems are underestimating the cost and effort needed to onboard 8 billion users using a physical go-to-market.</em></p>
<h2 id="separation-of-concerns">Separation of concerns<a hidden class="anchor" aria-hidden="true" href="#separation-of-concerns">#</a></h2>
<p>When a Government is already maintaining a fairly trustworthy registry of users, why not build on top?
Agreed, Adhaar isn&rsquo;t private. Infact there have been recorded leaks of personal information - but that doesn&rsquo;t stop us from inheriting the trustworthiness of the data collected. <em>The privacy and decentralization can be a layer on top of this trustworthy data</em>. We already have tools like ZKPs and MPC to achieve this end.</p>
<p>Not only the government, but many centralized systems already have the data we seek. Github has the information of who committed how much, Twitter has information on who said what when, Universities have information of who graduated. This information can be retrieved using privacy preserving protocols like Reclaim, TLS Notary and Deco. That allows proofs to be created from centralized sources, and adds a layer of privacy on top. Which means that these identities can be used in applications downstream, and no one including the said centralized server will be able to doxx the user.</p>
<p>We already have companies and governments who already know a lot about users. It is lazy to dismiss them as &ldquo;not web3&rdquo;. It is inefficient to build the entire stack ground up all over again when an alternative exists.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://blog.reclaimprotocol.org/">Reclaim Protocol Official Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
